<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://code.jquery.com/jquery.min.js"></script>
	<script src="./js/jquery-visibly.js"></script>
</head>
<body>
	<select class="test">
	  <option value="-1">-1</option>
	  <option value="0">0</option>
	  <option value="1">1</option>
	  <option value="2">2</option>
	</select>

	<div visibly=".test:0,2" id="demo">
	  1. SELECTION MATCHED THE ABOVE RULE!
    </div>
    

    <!-- Multiple source -->
    <select class="field1">
        <option value="a">a</option>
        <option value="b">b</option>
        <option value="c">c</option>
        <option value="d">d</option>
      </select>

      <select id="field2">
        <option value="-1">-1</option>
        <option value="0">0</option>
        <option value="1">1</option>
        <option value="2">2</option>
      </select>

        <!-- Show   -->
    <div visibly=".field1:c,d;#field2:1">
        2. SELECTION MATCHED THE ABOVE RULE
    </div> 

    <table>
    	<tr>
    		<td>
    			<input type="text" visibly=".test:0"/>
    		</td>
    	</tr>
    </table>

	<script type="text/javascript">
		$(document).ready(function(event){

			var nestedInTable = $("table [visibly]");

			nestedInTable.Visibly({
				//Clear the data from the elements on hide
				clearOnHide: false,  

				//This determines if regular expression is to be used for the test
				regularExpression: false, 

				//Data attribute to use for the visibly data
				attr: 'visibly', 

				//Delimiter used to split the values a control can hold
				vdelim: ',', 

				//Delimiter between the field ID and the values
				edelim: ':', 

				//Delimiter between the fields
				fdelim: ';',

				//Delimiter between the rules
				rdelim: '%',
				cssSelector: true,
				onHideEvent: 'el-hidden', 
				onShowEvent: 'el-shown'   
			});

			nestedInTable.on("el-shown",function(event){
				console.log('shown:',this);
			}).on("el-hidden",function(event){
				console.log('hidden:',this);
			});

			$("[visibly]").not(nestedInTable).Visibly(options = {
				//Clear the data from the elements on hide
				clearOnHide: false,  

				//This determines if regular expression is to be used for the test
				regularExpression: false, 

				//Data attribute to use for the visibly data
				attr: 'visibly', 

				//Delimiter used to split the values a control can hold
				vdelim: ',', 

				//Delimiter between the field ID and the values
				edelim: ':', 

				//Delimiter between the fields
				fdelim: ';',

				//Delimiter between the rules
				rdelim: '%',
				cssSelector: true 
			});

		});		
	</script>
</body>
</html>