!function(e){e.fn.rVal=function(i){var t;return e(this).is("select")?e(this).find("option:selected").each(function(){e(this).parent().is("select")&&(t=e(this).val())}):t=e(this).val(),t}}(jQuery),function(e){e.fn.Visibly=function(i){var t=e.extend({clearOnHide:!1,attr:"visibly",vdelim:",",edelim:":",nedelim:"!",regularExpression:!1,fdelim:";",rdelim:"%",cssSelector:!1},i),l=[],n=t.cssSelector?"":"#";return this.each(function(){var i=e(this),s=RegExp(t.edelim+"|"+t.nedelim);e.each(e(this).attr(t.attr).split(t.fdelim),function(r,a){var c=e(n+a.split(s)[0]);0==c.length&&(c=e('INPUT[name="'+a.split(s)[0]+'"]')),c.bind("keyup change click",function(){var l=!0;e.each(i.attr(t.attr).split(t.rdelim),function(i,r){return l=!0,e.each(r.split(t.fdelim),function(i,r){var a=e(n+r.split(s)[0]);if(0==a.length&&(a=e("INPUT[name='"+r.split(s)[0]+"']:checked")),void 0!=a.val()){var c="";if(a.is("select")?a.find("option:selected").each(function(){e(this).parent().is("select")&&(c=e(this).rVal())}):c=a.val(),null!=r.split(t.edelim)[1])var p=e.grep(r.split(t.edelim)[1].split(t.vdelim),function(i,l){return-1!=e.inArray(c,r.split(t.edelim)[1].split(t.vdelim))||!!t.regularExpression&&c.match(i)});if(null!=r.split(t.nedelim)[1])p=e.grep(r.split(t.nedelim)[1].split(t.vdelim),function(i,l){return-1==e.inArray(c,r.split(t.nedelim)[1].split(t.vdelim))&&(!t.regularExpression||!c.match(i))});0==p.length&&(l=!1)}else l=!1}),!l}),l?i.is("option")?i.parent("span.hide").length&&i.unwrap():i.show():i.is("option")?0==i.parent("span.hide").length&&(i.val()==i.closest("select").val()&&i.closest("select").rVal(""),i.trigger("change"),i.wrap('<span class="hide" style="display: none;" />')):i.hide(),!l&&t.clearOnHide&&(i.val(""),i.find("input").val(""),i.selectedIndex=0)}),-1==e.inArray(a.split(s)[0],l)&&l.push(a.split(s)[0])})}).promise().done(function(){for(var i=0;i<l.length;i++)e('INPUT[name="'+l[i]+'"]').trigger("change"),e(n+l[i]).trigger("change")})}}(jQuery);